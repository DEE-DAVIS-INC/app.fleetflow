"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[0],{11550:(e,t,s)=>{s.d(t,{A:()=>o,AuthProvider:()=>l,O:()=>i});var r=s(95155),n=s(12115);let a=(0,n.createContext)(void 0),o=()=>{let e=(0,n.useContext)(a);if(void 0===e)throw Error("useAuth must be used within an AuthProvider");return e},l=e=>{let{children:t}=e,[s,o]=(0,n.useState)({id:"U001",name:"Fleet Manager",email:"manager@fleetflow.com",role:"Admin",permissions:["all"]});return(0,r.jsx)(a.Provider,{value:{user:s,hasPermission:e=>!!s&&(!!s.permissions.includes("all")||s.permissions.includes(e)),login:e=>{o(e),localStorage.setItem("fleetflow-user",JSON.stringify(e))},logout:()=>{o(null),localStorage.removeItem("fleetflow-user")}},children:t})},i=e=>{let{children:t,requiredPermission:s,fallback:n}=e,{hasPermission:a}=o();return s&&!a(s)?n||(0,r.jsxs)("div",{className:"bg-red-50 border border-red-200 rounded-lg p-6 text-center",children:[(0,r.jsx)("svg",{className:"w-12 h-12 text-red-400 mx-auto mb-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-2.5L13.732 4c-.77-.833-1.964-.833-2.732 0L4.082 15.5c-.77.833.192 2.5 1.732 2.5z"})}),(0,r.jsx)("h3",{className:"text-lg font-medium text-red-800 mb-2",children:"Access Denied"}),(0,r.jsx)("p",{className:"text-red-600",children:"You don't have permission to access this feature."}),(0,r.jsxs)("p",{className:"text-sm text-red-500 mt-2",children:["Required permission: ",(0,r.jsx)("code",{className:"bg-red-100 px-2 py-1 rounded",children:s})]})]}):(0,r.jsx)(r.Fragment,{children:t})}},15570:(e,t,s)=>{s.d(t,{A:()=>o});var r=s(95155),n=s(12115),a=s(11550);function o(e){let{section:t,entityId:s,entityName:o}=e,{user:l}=(0,a.A)(),[i,c]=(0,n.useState)([]),[d,m]=(0,n.useState)(""),[x,h]=(0,n.useState)(!1),[u,g]=(0,n.useState)("medium"),[p,b]=(0,n.useState)(!0);(0,n.useEffect)(()=>{let e=localStorage.getItem("fleetflow-notes-".concat(t,"-").concat(s));e&&c(JSON.parse(e))},[t,s]);let j=e=>{c(e),localStorage.setItem("fleetflow-notes-".concat(t,"-").concat(s),JSON.stringify(e))},y=e=>{j(i.filter(t=>t.id!==e))},f=e=>{switch(e){case"high":return"bg-red-100 border-red-300 text-red-800";case"medium":return"bg-yellow-100 border-yellow-300 text-yellow-800";case"low":return"bg-green-100 border-green-300 text-green-800";default:return"bg-gray-100 border-gray-300 text-gray-800"}},v=e=>new Date(e).toLocaleDateString("en-US",{month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"});return(0,r.jsxs)("div",{className:"sticky-note-container",children:[(0,r.jsx)("div",{className:"flex items-center justify-between mb-2",children:(0,r.jsxs)("button",{onClick:()=>h(!x),className:"flex items-center gap-2 text-sm font-medium text-gray-700 hover:text-gray-900",children:[(0,r.jsx)("span",{className:"text-yellow-500",children:"\uD83D\uDCDD"}),"Notes ",o&&"- ".concat(o),i.length>0&&(0,r.jsx)("span",{className:"bg-blue-100 text-blue-800 text-xs px-2 py-1 rounded-full",children:i.length}),(0,r.jsx)("svg",{className:"w-4 h-4 transition-transform ".concat(x?"rotate-180":""),fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})]})}),x&&(0,r.jsxs)("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-4 space-y-3",children:[(0,r.jsxs)("div",{className:"space-y-2",children:[(0,r.jsx)("textarea",{value:d,onChange:e=>m(e.target.value),placeholder:"Add a note about this item...",className:"w-full p-2 border border-gray-300 rounded text-sm resize-none",rows:2}),(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[(0,r.jsxs)("div",{className:"flex items-center gap-4",children:[(0,r.jsxs)("select",{value:u,onChange:e=>g(e.target.value),className:"text-xs border border-gray-300 rounded px-2 py-1",children:[(0,r.jsx)("option",{value:"low",children:"Low Priority"}),(0,r.jsx)("option",{value:"medium",children:"Medium Priority"}),(0,r.jsx)("option",{value:"high",children:"High Priority"})]}),(0,r.jsxs)("label",{className:"flex items-center gap-1 text-xs text-gray-600",children:[(0,r.jsx)("input",{type:"checkbox",checked:p,onChange:e=>b(e.target.checked),className:"text-xs"}),"Share with team"]})]}),(0,r.jsx)("button",{onClick:()=>{d.trim()&&l&&(j([{id:Date.now().toString(),content:d.trim(),section:t,entityId:s,createdBy:l.name,createdAt:new Date().toISOString(),isShared:p,priority:u},...i]),m(""))},disabled:!d.trim(),className:"bg-blue-500 text-white px-3 py-1 rounded text-xs hover:bg-blue-600 disabled:bg-gray-300",children:"Add Note"})]})]}),(0,r.jsx)("div",{className:"space-y-2 max-h-64 overflow-y-auto",children:0===i.length?(0,r.jsx)("p",{className:"text-gray-500 text-sm italic",children:"No notes yet. Add one above!"}):i.map(e=>(0,r.jsx)("div",{className:"p-3 rounded border-l-4 ".concat(f(e.priority)),children:(0,r.jsxs)("div",{className:"flex justify-between items-start",children:[(0,r.jsxs)("div",{className:"flex-1",children:[(0,r.jsx)("p",{className:"text-sm text-gray-800 mb-1",children:e.content}),(0,r.jsxs)("div",{className:"flex items-center gap-2 text-xs text-gray-600",children:[(0,r.jsx)("span",{children:e.createdBy}),(0,r.jsx)("span",{children:"•"}),(0,r.jsx)("span",{children:v(e.createdAt)}),(0,r.jsx)("span",{children:"•"}),(0,r.jsx)("span",{className:"capitalize",children:e.priority}),e.isShared&&(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("span",{children:"•"}),(0,r.jsx)("span",{className:"text-blue-600",children:"\uD83D\uDC65 Shared"})]})]})]}),(0,r.jsx)("button",{onClick:()=>y(e.id),className:"text-red-500 hover:text-red-700 ml-2",title:"Delete note",children:(0,r.jsx)("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]})},e.id))})]})]})}},86399:(e,t,s)=>{s.d(t,{A:()=>a});var r=s(95155),n=s(12115);function a(e){let{addresses:t=[],height:s="400px",zoom:a=10,mapType:o="roadmap"}=e,[l,i]=(0,n.useState)(""),[c,d]=(0,n.useState)("");(0,n.useEffect)(()=>{m()},[t,a,o]);let m=()=>{try{if(0===t.length)return void i("");let e="https://www.google.com/maps/embed/v1/",s="your_google_maps_api_key_here",r="";if(1===t.length)r="".concat(e,"place?key=").concat(s,"&q=").concat(encodeURIComponent(t[0]),"&zoom=").concat(a,"&maptype=").concat(o);else if(2===t.length)r="".concat(e,"directions?key=").concat(s,"&origin=").concat(encodeURIComponent(t[0]),"&destination=").concat(encodeURIComponent(t[1]),"&mode=driving&maptype=").concat(o);else{let n=t[0],a=t[t.length-1],l=t.slice(1,-1).join("|");r="".concat(e,"directions?key=").concat(s,"&origin=").concat(encodeURIComponent(n),"&destination=").concat(encodeURIComponent(a),"&waypoints=").concat(encodeURIComponent(l),"&mode=driving&maptype=").concat(o)}s&&1?i(r):i(""),d("")}catch(e){d("Failed to generate map URL"),console.error("Map URL generation error:",e)}},x=()=>{if(0===t.length)return;let e="https://www.google.com/maps/dir/";1===t.length?e="https://www.google.com/maps/search/".concat(encodeURIComponent(t[0])):e+=t.map(e=>encodeURIComponent(e)).join("/"),window.open(e,"_blank")};return c?(0,r.jsx)("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4",style:{height:s},children:(0,r.jsx)("div",{className:"flex items-center justify-center h-full",children:(0,r.jsxs)("div",{className:"text-center",children:[(0,r.jsx)("span",{className:"text-4xl",children:"\uD83D\uDDFA️"}),(0,r.jsx)("p",{className:"text-red-700 mt-2",children:c})]})})}):l?(0,r.jsxs)("div",{className:"relative border border-gray-200 rounded-lg overflow-hidden",style:{height:s},children:[(0,r.jsx)("iframe",{src:l,width:"100%",height:"100%",style:{border:0},allowFullScreen:!0,loading:"lazy",referrerPolicy:"no-referrer-when-downgrade",title:"Google Maps"}),(0,r.jsx)("div",{className:"absolute top-2 right-2 flex gap-2",children:(0,r.jsxs)("button",{onClick:x,className:"bg-white shadow-md border border-gray-200 px-3 py-1 rounded text-xs hover:bg-gray-50 flex items-center gap-1",title:"Open in Google Maps",children:[(0,r.jsx)("span",{children:"\uD83D\uDD17"}),"Open"]})})]}):(0,r.jsx)("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",style:{height:s},children:(0,r.jsx)("div",{className:"flex items-center justify-center h-full",children:(0,r.jsxs)("div",{className:"text-center",children:[(0,r.jsx)("span",{className:"text-4xl",children:"\uD83D\uDDFA️"}),(0,r.jsx)("h3",{className:"font-medium text-blue-900 mt-2 mb-2",children:"Google Maps Integration"}),(0,r.jsx)("p",{className:"text-blue-700 text-sm mb-4",children:0===t.length?"Add addresses to view route map":"Google Maps API key required for live maps"}),t.length>0&&(0,r.jsxs)("button",{onClick:x,className:"bg-blue-500 text-white px-4 py-2 rounded text-sm hover:bg-blue-600 flex items-center gap-2 mx-auto",children:[(0,r.jsx)("span",{children:"\uD83D\uDD17"}),"Open in Google Maps"]})]})})})}}}]);