(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[662],{11550:(e,s,a)=>{"use strict";a.d(s,{A:()=>n,AuthProvider:()=>l,O:()=>d});var t=a(95155),r=a(12115);let i=(0,r.createContext)(void 0),n=()=>{let e=(0,r.useContext)(i);if(void 0===e)throw Error("useAuth must be used within an AuthProvider");return e},l=e=>{let{children:s}=e,[a,n]=(0,r.useState)({id:"U001",name:"Fleet Manager",email:"manager@fleetflow.com",role:"Admin",permissions:["all"]});return(0,t.jsx)(i.Provider,{value:{user:a,hasPermission:e=>!!a&&(!!a.permissions.includes("all")||a.permissions.includes(e)),login:e=>{n(e),localStorage.setItem("fleetflow-user",JSON.stringify(e))},logout:()=>{n(null),localStorage.removeItem("fleetflow-user")}},children:s})},d=e=>{let{children:s,requiredPermission:a,fallback:r}=e,{hasPermission:i}=n();return a&&!i(a)?r||(0,t.jsxs)("div",{className:"bg-red-50 border border-red-200 rounded-lg p-6 text-center",children:[(0,t.jsx)("svg",{className:"w-12 h-12 text-red-400 mx-auto mb-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-2.5L13.732 4c-.77-.833-1.964-.833-2.732 0L4.082 15.5c-.77.833.192 2.5 1.732 2.5z"})}),(0,t.jsx)("h3",{className:"text-lg font-medium text-red-800 mb-2",children:"Access Denied"}),(0,t.jsx)("p",{className:"text-red-600",children:"You don't have permission to access this feature."}),(0,t.jsxs)("p",{className:"text-sm text-red-500 mt-2",children:["Required permission: ",(0,t.jsx)("code",{className:"bg-red-100 px-2 py-1 rounded",children:a})]})]}):(0,t.jsx)(t.Fragment,{children:s})}},77585:(e,s,a)=>{Promise.resolve().then(a.bind(a,96503))},96503:(e,s,a)=>{"use strict";a.r(s),a.d(s,{default:()=>n});var t=a(95155),r=a(12115),i=a(11550);function n(){let[e,s]=(0,r.useState)("users"),[a,n]=(0,r.useState)(!1),[l,d]=(0,r.useState)(null),[c]=(0,r.useState)({id:"U001",name:"Fleet Manager",email:"manager@fleetflow.com",role:"Admin",status:"Active",lastLogin:"Current session",permissions:["all"],createdDate:"2024-01-01"}),[o]=(0,r.useState)([{id:"dashboard_view",name:"View Dashboard",description:"Access to main dashboard and metrics",category:"Core"},{id:"vehicles_manage",name:"Manage Vehicles",description:"Add, edit, and delete vehicles",category:"Core"},{id:"drivers_manage",name:"Manage Drivers",description:"Add, edit, and delete driver profiles",category:"Core"},{id:"routes_manage",name:"Manage Routes",description:"Create and modify routes",category:"Core"},{id:"dispatch_access",name:"Dispatch Central",description:"Access dispatch operations and load assignment",category:"Core"},{id:"broker_access",name:"Broker Box",description:"Access freight brokerage features",category:"Core"},{id:"quoting_access",name:"Freight Quoting",description:"Generate and manage freight quotes",category:"Core"},{id:"maintenance_manage",name:"Maintenance Management",description:"Schedule and track vehicle maintenance",category:"Core"},{id:"invoices_view",name:"View Invoices",description:"View dispatch invoices and billing",category:"Financial"},{id:"invoices_manage",name:"Manage Invoices",description:"Create, edit, and manage invoices",category:"Financial"},{id:"financial_reports",name:"Financial Reports",description:"Access financial reporting and analytics",category:"Financial"},{id:"reports_view",name:"View Reports",description:"Access standard reports",category:"Reports"},{id:"reports_export",name:"Export Reports",description:"Download and export report data",category:"Reports"},{id:"users_manage",name:"Manage Users",description:"Create, edit, and delete user accounts",category:"Admin"},{id:"system_settings",name:"System Settings",description:"Modify system configuration",category:"Admin"}]),[m,x]=(0,r.useState)([{id:"U001",name:"Fleet Manager",email:"manager@fleetflow.com",role:"Admin",status:"Active",lastLogin:"Current session",permissions:["all"],createdDate:"2024-01-01"},{id:"U002",name:"John Smith",email:"john.smith@fleetflow.com",role:"Driver",status:"Active",lastLogin:"2024-12-19 14:30",permissions:["dashboard_view","routes_manage"],createdDate:"2024-03-15"},{id:"U003",name:"Sarah Johnson",email:"sarah.johnson@fleetflow.com",role:"Dispatcher",status:"Active",lastLogin:"2024-12-19 16:45",permissions:["dashboard_view","dispatch_access","routes_manage","drivers_manage"],createdDate:"2024-02-10"},{id:"U004",name:"Mike Wilson",email:"mike.wilson@fleetflow.com",role:"Manager",status:"Active",lastLogin:"2024-12-19 12:15",permissions:["dashboard_view","vehicles_manage","drivers_manage","reports_view","invoices_view"],createdDate:"2024-01-20"}]),[u,g]=(0,r.useState)({name:"",email:"",role:"Viewer",permissions:[]}),p={Admin:["all"],Manager:["dashboard_view","vehicles_manage","drivers_manage","routes_manage","maintenance_manage","reports_view","invoices_view","financial_reports"],Dispatcher:["dashboard_view","dispatch_access","routes_manage","drivers_manage","invoices_view"],Driver:["dashboard_view","routes_manage"],Viewer:["dashboard_view","reports_view"]},h=e=>{x(m.map(s=>s.id===e?{...s,status:"Active"===s.status?"Inactive":"Active"}:s))},b=e=>{if(e===c.id)return void alert("Cannot delete your own account");confirm("Are you sure you want to delete this user?")&&x(m.filter(s=>s.id!==e))},y=e=>{switch(e){case"Admin":return"bg-red-100 text-red-800";case"Manager":return"bg-blue-100 text-blue-800";case"Dispatcher":return"bg-green-100 text-green-800";case"Driver":return"bg-yellow-100 text-yellow-800";default:return"bg-gray-100 text-gray-800"}},f=e=>o.filter(s=>s.category===e);return(0,t.jsx)(i.O,{requiredPermission:"users_manage",children:(0,t.jsxs)("div",{className:"space-y-6",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("h1",{className:"text-3xl font-bold text-gray-900",children:"System Settings"}),(0,t.jsx)("p",{className:"text-gray-600 mt-2",children:"Manage users, permissions, and system configuration"})]}),(0,t.jsx)("div",{className:"border-b border-gray-200",children:(0,t.jsx)("nav",{className:"-mb-px flex space-x-8",children:[{id:"users",label:"User Management",count:m.length},{id:"permissions",label:"Permissions",count:o.length},{id:"general",label:"General Settings",count:0}].map(a=>(0,t.jsxs)("button",{onClick:()=>s(a.id),className:"py-2 px-1 border-b-2 font-medium text-sm ".concat(e===a.id?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"),children:[a.label,a.count>0&&(0,t.jsx)("span",{className:"ml-2 bg-gray-100 text-gray-600 py-0.5 px-2 rounded-full text-xs",children:a.count})]},a.id))})}),"users"===e&&(0,t.jsxs)("div",{className:"space-y-6",children:[(0,t.jsxs)("div",{className:"flex justify-between items-center",children:[(0,t.jsx)("h2",{className:"text-xl font-semibold text-gray-900",children:"User Accounts"}),(0,t.jsx)("button",{onClick:()=>n(!0),className:"bg-blue-600 text-white px-4 py-2 rounded-md text-sm font-medium hover:bg-blue-700",children:"Create New User"})]}),(0,t.jsx)("div",{className:"bg-white shadow rounded-lg overflow-hidden",children:(0,t.jsxs)("table",{className:"min-w-full divide-y divide-gray-200",children:[(0,t.jsx)("thead",{className:"bg-gray-50",children:(0,t.jsxs)("tr",{children:[(0,t.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"User"}),(0,t.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Role"}),(0,t.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),(0,t.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Last Login"}),(0,t.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Created"}),(0,t.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),(0,t.jsx)("tbody",{className:"bg-white divide-y divide-gray-200",children:m.map(e=>(0,t.jsxs)("tr",{className:"hover:bg-gray-50",children:[(0,t.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,t.jsxs)("div",{children:[(0,t.jsx)("div",{className:"text-sm font-medium text-gray-900",children:e.name}),(0,t.jsx)("div",{className:"text-sm text-gray-500",children:e.email})]})}),(0,t.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,t.jsx)("span",{className:"inline-flex px-2 py-1 text-xs font-semibold rounded-full ".concat(y(e.role)),children:e.role})}),(0,t.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,t.jsx)("span",{className:"inline-flex px-2 py-1 text-xs font-semibold rounded-full ".concat("Active"===e.status?"bg-green-100 text-green-800":"bg-red-100 text-red-800"),children:e.status})}),(0,t.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:e.lastLogin}),(0,t.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:e.createdDate}),(0,t.jsxs)("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium",children:[(0,t.jsx)("button",{onClick:()=>d(e),className:"text-blue-600 hover:text-blue-900 mr-3",children:"Edit"}),(0,t.jsx)("button",{onClick:()=>h(e.id),className:"text-yellow-600 hover:text-yellow-900 mr-3",children:"Active"===e.status?"Deactivate":"Activate"}),e.id!==c.id&&(0,t.jsx)("button",{onClick:()=>b(e.id),className:"text-red-600 hover:text-red-900",children:"Delete"})]})]},e.id))})]})})]}),"permissions"===e&&(0,t.jsxs)("div",{className:"space-y-6",children:[(0,t.jsx)("h2",{className:"text-xl font-semibold text-gray-900",children:"System Permissions"}),["Core","Financial","Reports","Admin"].map(e=>(0,t.jsxs)("div",{className:"bg-white shadow rounded-lg p-6",children:[(0,t.jsxs)("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:[e," Permissions"]}),(0,t.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:f(e).map(e=>(0,t.jsx)("div",{className:"border rounded-lg p-4",children:(0,t.jsxs)("div",{className:"flex justify-between items-start",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("h4",{className:"text-sm font-medium text-gray-900",children:e.name}),(0,t.jsx)("p",{className:"text-sm text-gray-500 mt-1",children:e.description})]}),(0,t.jsxs)("span",{className:"text-xs text-gray-400",children:["ID: ",e.id]})]})},e.id))})]},e))]}),"general"===e&&(0,t.jsxs)("div",{className:"space-y-6",children:[(0,t.jsx)("h2",{className:"text-xl font-semibold text-gray-900",children:"General Settings"}),(0,t.jsxs)("div",{className:"bg-white shadow rounded-lg p-6",children:[(0,t.jsx)("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Company Information"}),(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Company Name"}),(0,t.jsx)("input",{type:"text",defaultValue:"FleetFlow Transportation",className:"w-full border border-gray-300 rounded-md px-3 py-2 focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Contact Email"}),(0,t.jsx)("input",{type:"email",defaultValue:"contact@fleetflow.com",className:"w-full border border-gray-300 rounded-md px-3 py-2 focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]})]})]}),(0,t.jsxs)("div",{className:"bg-white shadow rounded-lg p-6",children:[(0,t.jsx)("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Invoice Settings"}),(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Dispatch Fee Percentage"}),(0,t.jsx)("input",{type:"number",defaultValue:"10",min:"0",max:"100",className:"w-full border border-gray-300 rounded-md px-3 py-2 focus:ring-2 focus:ring-blue-500 focus:border-transparent"}),(0,t.jsx)("p",{className:"text-sm text-gray-500 mt-1",children:"Current: 10% of load value"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Payment Terms (Days)"}),(0,t.jsx)("input",{type:"number",defaultValue:"2",min:"1",max:"30",className:"w-full border border-gray-300 rounded-md px-3 py-2 focus:ring-2 focus:ring-blue-500 focus:border-transparent"}),(0,t.jsx)("p",{className:"text-sm text-gray-500 mt-1",children:"Current: 2 days (Monday to Wednesday)"})]})]})]})]}),a&&(0,t.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:(0,t.jsxs)("div",{className:"bg-white rounded-lg shadow-xl max-w-md w-full",children:[(0,t.jsx)("div",{className:"px-6 py-4 border-b border-gray-200",children:(0,t.jsx)("h3",{className:"text-lg font-medium text-gray-900",children:"Create New User"})}),(0,t.jsxs)("div",{className:"p-6 space-y-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Full Name"}),(0,t.jsx)("input",{type:"text",value:u.name,onChange:e=>g({...u,name:e.target.value}),className:"w-full border border-gray-300 rounded-md px-3 py-2 focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Enter full name"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Email Address"}),(0,t.jsx)("input",{type:"email",value:u.email,onChange:e=>g({...u,email:e.target.value}),className:"w-full border border-gray-300 rounded-md px-3 py-2 focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Enter email address"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Role"}),(0,t.jsxs)("select",{value:u.role,onChange:e=>g({...u,role:e.target.value}),className:"w-full border border-gray-300 rounded-md px-3 py-2 focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[(0,t.jsx)("option",{value:"Viewer",children:"Viewer"}),(0,t.jsx)("option",{value:"Driver",children:"Driver"}),(0,t.jsx)("option",{value:"Dispatcher",children:"Dispatcher"}),(0,t.jsx)("option",{value:"Manager",children:"Manager"}),(0,t.jsx)("option",{value:"Admin",children:"Admin"})]}),(0,t.jsx)("p",{className:"text-sm text-gray-500 mt-1",children:"Permissions will be assigned based on role"})]})]}),(0,t.jsxs)("div",{className:"px-6 py-4 border-t border-gray-200 flex justify-end space-x-3",children:[(0,t.jsx)("button",{onClick:()=>n(!1),className:"px-4 py-2 text-sm font-medium text-gray-700 bg-gray-100 hover:bg-gray-200 rounded-md",children:"Cancel"}),(0,t.jsx)("button",{onClick:()=>{if(!u.name||!u.email)return void alert("Please fill in all required fields");let e={id:"U".concat((m.length+1).toString().padStart(3,"0")),name:u.name,email:u.email,role:u.role,status:"Active",lastLogin:"Never",permissions:"Admin"===u.role?["all"]:p[u.role],createdDate:new Date().toISOString().split("T")[0]};x([...m,e]),g({name:"",email:"",role:"Viewer",permissions:[]}),n(!1)},className:"px-4 py-2 text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 rounded-md",children:"Create User"})]})]})}),l&&(0,t.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:(0,t.jsxs)("div",{className:"bg-white rounded-lg shadow-xl max-w-lg w-full",children:[(0,t.jsx)("div",{className:"px-6 py-4 border-b border-gray-200",children:(0,t.jsxs)("h3",{className:"text-lg font-medium text-gray-900",children:["Edit User: ",l.name]})}),(0,t.jsx)("div",{className:"p-6",children:(0,t.jsx)("div",{className:"space-y-4",children:(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Permissions"}),(0,t.jsx)("div",{className:"space-y-2 max-h-60 overflow-y-auto",children:l.permissions.includes("all")?(0,t.jsx)("div",{className:"text-sm text-green-600 font-medium",children:"\uD83D\uDC51 Admin - All Permissions Granted"}):o.map(e=>(0,t.jsxs)("label",{className:"flex items-center space-x-2",children:[(0,t.jsx)("input",{type:"checkbox",checked:l.permissions.includes(e.id),className:"rounded border-gray-300 text-blue-600 focus:ring-blue-500",readOnly:!0}),(0,t.jsx)("span",{className:"text-sm text-gray-700",children:e.name})]},e.id))})]})})}),(0,t.jsx)("div",{className:"px-6 py-4 border-t border-gray-200 flex justify-end",children:(0,t.jsx)("button",{onClick:()=>d(null),className:"px-4 py-2 text-sm font-medium text-gray-700 bg-gray-100 hover:bg-gray-200 rounded-md",children:"Close"})})]})})]})})}}},e=>{var s=s=>e(e.s=s);e.O(0,[441,684,358],()=>s(77585)),_N_E=e.O()}]);