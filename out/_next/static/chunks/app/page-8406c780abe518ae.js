(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[974],{11550:(e,t,s)=>{"use strict";s.d(t,{A:()=>i,AuthProvider:()=>n,O:()=>c});var a=s(95155),l=s(12115);let r=(0,l.createContext)(void 0),i=()=>{let e=(0,l.useContext)(r);if(void 0===e)throw Error("useAuth must be used within an AuthProvider");return e},n=e=>{let{children:t}=e,[s,i]=(0,l.useState)({id:"U001",name:"Fleet Manager",email:"manager@fleetflow.com",role:"Admin",permissions:["all"]});return(0,a.jsx)(r.Provider,{value:{user:s,hasPermission:e=>!!s&&(!!s.permissions.includes("all")||s.permissions.includes(e)),login:e=>{i(e),localStorage.setItem("fleetflow-user",JSON.stringify(e))},logout:()=>{i(null),localStorage.removeItem("fleetflow-user")}},children:t})},c=e=>{let{children:t,requiredPermission:s,fallback:l}=e,{hasPermission:r}=i();return s&&!r(s)?l||(0,a.jsxs)("div",{className:"bg-red-50 border border-red-200 rounded-lg p-6 text-center",children:[(0,a.jsx)("svg",{className:"w-12 h-12 text-red-400 mx-auto mb-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,a.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-2.5L13.732 4c-.77-.833-1.964-.833-2.732 0L4.082 15.5c-.77.833.192 2.5 1.732 2.5z"})}),(0,a.jsx)("h3",{className:"text-lg font-medium text-red-800 mb-2",children:"Access Denied"}),(0,a.jsx)("p",{className:"text-red-600",children:"You don't have permission to access this feature."}),(0,a.jsxs)("p",{className:"text-sm text-red-500 mt-2",children:["Required permission: ",(0,a.jsx)("code",{className:"bg-red-100 px-2 py-1 rounded",children:s})]})]}):(0,a.jsx)(a.Fragment,{children:t})}},15570:(e,t,s)=>{"use strict";s.d(t,{A:()=>i});var a=s(95155),l=s(12115),r=s(11550);function i(e){let{section:t,entityId:s,entityName:i}=e,{user:n}=(0,r.A)(),[c,d]=(0,l.useState)([]),[o,h]=(0,l.useState)(""),[m,x]=(0,l.useState)(!1),[u,g]=(0,l.useState)("medium"),[v,b]=(0,l.useState)(!0);(0,l.useEffect)(()=>{let e=localStorage.getItem("fleetflow-notes-".concat(t,"-").concat(s));e&&d(JSON.parse(e))},[t,s]);let p=e=>{d(e),localStorage.setItem("fleetflow-notes-".concat(t,"-").concat(s),JSON.stringify(e))},j=e=>{p(c.filter(t=>t.id!==e))},f=e=>{switch(e){case"high":return"bg-red-100 border-red-300 text-red-800";case"medium":return"bg-yellow-100 border-yellow-300 text-yellow-800";case"low":return"bg-green-100 border-green-300 text-green-800";default:return"bg-gray-100 border-gray-300 text-gray-800"}},y=e=>new Date(e).toLocaleDateString("en-US",{month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"});return(0,a.jsxs)("div",{className:"sticky-note-container",children:[(0,a.jsx)("div",{className:"flex items-center justify-between mb-2",children:(0,a.jsxs)("button",{onClick:()=>x(!m),className:"flex items-center gap-2 text-sm font-medium text-gray-700 hover:text-gray-900",children:[(0,a.jsx)("span",{className:"text-yellow-500",children:"\uD83D\uDCDD"}),"Notes ",i&&"- ".concat(i),c.length>0&&(0,a.jsx)("span",{className:"bg-blue-100 text-blue-800 text-xs px-2 py-1 rounded-full",children:c.length}),(0,a.jsx)("svg",{className:"w-4 h-4 transition-transform ".concat(m?"rotate-180":""),fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,a.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})]})}),m&&(0,a.jsxs)("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-4 space-y-3",children:[(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)("textarea",{value:o,onChange:e=>h(e.target.value),placeholder:"Add a note about this item...",className:"w-full p-2 border border-gray-300 rounded text-sm resize-none",rows:2}),(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{className:"flex items-center gap-4",children:[(0,a.jsxs)("select",{value:u,onChange:e=>g(e.target.value),className:"text-xs border border-gray-300 rounded px-2 py-1",children:[(0,a.jsx)("option",{value:"low",children:"Low Priority"}),(0,a.jsx)("option",{value:"medium",children:"Medium Priority"}),(0,a.jsx)("option",{value:"high",children:"High Priority"})]}),(0,a.jsxs)("label",{className:"flex items-center gap-1 text-xs text-gray-600",children:[(0,a.jsx)("input",{type:"checkbox",checked:v,onChange:e=>b(e.target.checked),className:"text-xs"}),"Share with team"]})]}),(0,a.jsx)("button",{onClick:()=>{o.trim()&&n&&(p([{id:Date.now().toString(),content:o.trim(),section:t,entityId:s,createdBy:n.name,createdAt:new Date().toISOString(),isShared:v,priority:u},...c]),h(""))},disabled:!o.trim(),className:"bg-blue-500 text-white px-3 py-1 rounded text-xs hover:bg-blue-600 disabled:bg-gray-300",children:"Add Note"})]})]}),(0,a.jsx)("div",{className:"space-y-2 max-h-64 overflow-y-auto",children:0===c.length?(0,a.jsx)("p",{className:"text-gray-500 text-sm italic",children:"No notes yet. Add one above!"}):c.map(e=>(0,a.jsx)("div",{className:"p-3 rounded border-l-4 ".concat(f(e.priority)),children:(0,a.jsxs)("div",{className:"flex justify-between items-start",children:[(0,a.jsxs)("div",{className:"flex-1",children:[(0,a.jsx)("p",{className:"text-sm text-gray-800 mb-1",children:e.content}),(0,a.jsxs)("div",{className:"flex items-center gap-2 text-xs text-gray-600",children:[(0,a.jsx)("span",{children:e.createdBy}),(0,a.jsx)("span",{children:"•"}),(0,a.jsx)("span",{children:y(e.createdAt)}),(0,a.jsx)("span",{children:"•"}),(0,a.jsx)("span",{className:"capitalize",children:e.priority}),e.isShared&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("span",{children:"•"}),(0,a.jsx)("span",{className:"text-blue-600",children:"\uD83D\uDC65 Shared"})]})]})]}),(0,a.jsx)("button",{onClick:()=>j(e.id),className:"text-red-500 hover:text-red-700 ml-2",title:"Delete note",children:(0,a.jsx)("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,a.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]})},e.id))})]})]})}},30549:(e,t,s)=>{"use strict";s.d(t,{A:()=>l});var a=s(95155);let l=()=>{let e=e=>{switch(e){case"success":return"✅";case"warning":return"⚠️";case"alert":return"\uD83D\uDEA8";case"info":return"ℹ️";default:return"\uD83D\uDCDD"}},t=e=>{switch(e){case"success":return"#10b981";case"warning":return"#f59e0b";case"alert":return"#ef4444";case"info":return"#3b82f6";default:return"#6b7280"}};return(0,a.jsxs)("div",{className:"card",children:[(0,a.jsxs)("div",{className:"flex justify-between items-center mb-4",children:[(0,a.jsx)("h3",{style:{fontSize:"1.25rem",fontWeight:"600",color:"#1e293b"},children:"Recent Activity"}),(0,a.jsx)("button",{className:"btn btn-secondary",children:"View All"})]}),(0,a.jsx)("div",{className:"space-y-4",children:[{id:1,type:"route_completed",message:"Route #234 completed by John Smith",vehicle:"Truck-045",time:"2 minutes ago",status:"success"},{id:2,type:"maintenance_scheduled",message:"Maintenance scheduled for Van-012",vehicle:"Van-012",time:"15 minutes ago",status:"warning"},{id:3,type:"fuel_alert",message:"Low fuel alert for Truck-089",vehicle:"Truck-089",time:"32 minutes ago",status:"alert"},{id:4,type:"driver_assigned",message:"Sarah Johnson assigned to Route #567",vehicle:"Van-023",time:"1 hour ago",status:"info"},{id:5,type:"route_started",message:"Route #890 started by Mike Wilson",vehicle:"Truck-156",time:"1 hour ago",status:"success"}].map(s=>(0,a.jsxs)("div",{className:"flex items-start gap-3 p-3 bg-gray-50",style:{borderRadius:"6px"},children:[(0,a.jsx)("div",{style:{fontSize:"1.25rem"},children:e(s.status)}),(0,a.jsxs)("div",{className:"flex-1",children:[(0,a.jsx)("p",{className:"text-gray-900 mb-1",style:{fontWeight:"500"},children:s.message}),(0,a.jsxs)("div",{className:"flex items-center gap-4 text-gray-600",style:{fontSize:"0.875rem"},children:[(0,a.jsxs)("span",{children:["Vehicle: ",s.vehicle]}),(0,a.jsx)("span",{children:s.time})]})]}),(0,a.jsx)("div",{className:"status",style:{backgroundColor:"".concat(t(s.status),"20"),color:t(s.status),fontSize:"0.75rem"},children:s.status})]},s.id))})]})}},35669:(e,t,s)=>{Promise.resolve().then(s.bind(s,95142))},55870:(e,t,s)=>{"use strict";s.d(t,{A:()=>i});var a=s(95155),l=s(12115),r=s(66766);function i(e){let{size:t="medium",variant:s="gradient",showText:i=!0,useCustomLogo:n=!0}=e,[c,d]=(0,l.useState)(!1);console.log("FleetFlowLogo render:",{useCustomLogo:n,imageError:c,size:t});let o={small:{width:32,height:32,text:"text-lg"},medium:{width:40,height:40,text:"text-xl"},large:{width:56,height:56,text:"text-2xl"}}[t];return(0,a.jsxs)("div",{className:"flex items-center space-x-3",children:[n&&!c?(0,a.jsx)("div",{className:"relative ".concat("large"===t?"w-14 h-14":"medium"===t?"w-10 h-10":"w-8 h-8"),children:(0,a.jsx)(r.default,{src:"/images/fleet-flow-logo.png",alt:"FleetFlow Logo",width:o.width,height:o.height,className:"object-contain",onError:()=>d(!0),priority:!0})}):(0,a.jsxs)("div",{className:"relative ".concat("large"===t?"w-14 h-14":"medium"===t?"w-10 h-10":"w-8 h-8"),children:[(0,a.jsx)("div",{className:"absolute inset-0 bg-gradient-to-br from-blue-500 via-purple-600 to-blue-700 rounded-xl shadow-lg transform rotate-3"}),(0,a.jsx)("div",{className:"absolute inset-0 bg-gradient-to-br from-blue-600 via-purple-700 to-blue-800 rounded-xl flex items-center justify-center",children:(0,a.jsxs)("svg",{width:.6*o.width,height:.6*o.height,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:"text-white",children:[(0,a.jsx)("path",{d:"M20 8h-3V4a2 2 0 0 0-2-2H3a2 2 0 0 0-2 2v11a3 3 0 0 0 6 0h6a3 3 0 0 0 6 0h1a1 1 0 0 0 1-1v-3a3 3 0 0 0-3-3zM6 18a1 1 0 1 1 1-1 1 1 0 0 1-1 1zm12 0a1 1 0 1 1 1-1 1 1 0 0 1-1 1z",fill:"currentColor"}),(0,a.jsx)("path",{d:"M1 6h4m-3 2h3m-2 2h2",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",opacity:"0.8"})]})})]}),i&&(0,a.jsxs)("div",{className:"flex flex-col",children:[(0,a.jsx)("span",{className:"font-bold leading-tight ".concat(o.text," ").concat({light:"text-white",dark:"text-gray-900",gradient:"bg-gradient-to-r from-blue-600 via-purple-600 to-blue-800 bg-clip-text text-transparent"}[s]),children:"FleetFlow"}),"large"===t&&(0,a.jsx)("span",{className:"text-xs text-gray-500 font-medium -mt-1",children:"Fleet Management System"})]})]})}},95142:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>h});var a=s(95155),l=s(12115);let r=e=>{let{metrics:t}=e,s=[{title:"Total Vehicles",value:t.totalVehicles,change:"+5.2%",changeType:"up",icon:"\uD83D\uDE9B"},{title:"Active Vehicles",value:t.activeVehicles,change:"+2.1%",changeType:"up",icon:"✅"},{title:"In Maintenance",value:t.maintenanceVehicles,change:"-12.5%",changeType:"down",icon:"\uD83D\uDD27"},{title:"Total Drivers",value:t.totalDrivers,change:"+8.3%",changeType:"up",icon:"\uD83D\uDC65"},{title:"Active Routes",value:t.activeRoutes,change:"+15.2%",changeType:"up",icon:"\uD83D\uDDFA️"},{title:"Fuel Efficiency",value:"".concat(t.fuelEfficiency,"L/100km"),change:"-3.2%",changeType:"up",icon:"⛽"},{title:"Monthly Mileage",value:"".concat(t.monthlyMileage.toLocaleString(),"km"),change:"+7.8%",changeType:"up",icon:"\uD83D\uDCCA"},{title:"Maintenance Costs",value:"$".concat(t.maintenanceCosts.toLocaleString()),change:"-5.1%",changeType:"down",icon:"\uD83D\uDCB0"}];return(0,a.jsx)("div",{className:"grid grid-cols-4 gap-6 mb-6",children:s.map((e,t)=>(0,a.jsxs)("div",{className:"metric-card",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,a.jsx)("span",{style:{fontSize:"1.5rem"},children:e.icon}),(0,a.jsx)("span",{className:"metric-change ".concat("up"===e.changeType?"metric-up":"metric-down"),children:e.change})]}),(0,a.jsx)("div",{className:"metric-value",children:e.value}),(0,a.jsx)("div",{className:"metric-label",children:e.title})]},t))})},i=()=>{let e=(0,l.useRef)(null);return(0,l.useEffect)(()=>{let t=e.current;if(!t)return;let s=t.getContext("2d");if(!s)return;let a=[{label:"Active",value:134,color:"#10b981"},{label:"Maintenance",value:22,color:"#f59e0b"},{label:"Inactive",value:8,color:"#ef4444"}],l=a.reduce((e,t)=>e+t.value,0),r=t.width/2,i=t.height/2,n=-Math.PI/2;s.clearRect(0,0,t.width,t.height),a.forEach(e=>{let t=e.value/l*2*Math.PI;s.beginPath(),s.moveTo(r,i),s.arc(r,i,80,n,n+t),s.closePath(),s.fillStyle=e.color,s.fill(),n+=t}),s.beginPath(),s.arc(r,i,40,0,2*Math.PI),s.fillStyle="white",s.fill(),s.fillStyle="#1e293b",s.font="bold 24px Arial",s.textAlign="center",s.fillText(l.toString(),r,i-5),s.font="12px Arial",s.fillText("Total Vehicles",r,i+15)},[]),(0,a.jsxs)("div",{className:"card",children:[(0,a.jsx)("h3",{className:"mb-4",style:{fontSize:"1.25rem",fontWeight:"600",color:"#1e293b"},children:"Vehicle Status Distribution"}),(0,a.jsxs)("div",{className:"flex items-center gap-6",children:[(0,a.jsx)("canvas",{ref:e,width:200,height:200,style:{maxWidth:"200px",maxHeight:"200px"}}),(0,a.jsxs)("div",{className:"flex flex-col gap-4",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)("div",{style:{width:"12px",height:"12px",backgroundColor:"#10b981",borderRadius:"50%"}}),(0,a.jsx)("span",{className:"text-gray-600",children:"Active (134)"})]}),(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)("div",{style:{width:"12px",height:"12px",backgroundColor:"#f59e0b",borderRadius:"50%"}}),(0,a.jsx)("span",{className:"text-gray-600",children:"Maintenance (22)"})]}),(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)("div",{style:{width:"12px",height:"12px",backgroundColor:"#ef4444",borderRadius:"50%"}}),(0,a.jsx)("span",{className:"text-gray-600",children:"Inactive (8)"})]})]})]})]})};var n=s(30549),c=s(15570),d=s(96313),o=s(55870);function h(){let[e,t]=(0,l.useState)(new Date);return(0,l.useEffect)(()=>{let e=setInterval(()=>{t(new Date)},1e3);return()=>clearInterval(e)},[]),(0,a.jsxs)("div",{className:"min-h-screen relative",style:{backgroundImage:"url('/images/outlookff.jpg')",backgroundSize:"cover",backgroundPosition:"center",backgroundRepeat:"no-repeat",backgroundAttachment:"fixed"},children:[(0,a.jsx)("div",{className:"absolute inset-0 bg-white/70"}),(0,a.jsxs)("div",{className:"relative p-6 space-y-8 z-10",children:[(0,a.jsx)("div",{className:"flex justify-center mb-4",children:(0,a.jsxs)("div",{className:"bg-yellow-100/95 backdrop-blur-md rounded-xl p-4 shadow-lg border-2 border-yellow-300/60 w-80",children:[(0,a.jsxs)("div",{className:"mb-3 flex items-center space-x-2",children:[(0,a.jsx)("span",{className:"text-lg",children:"\uD83D\uDCDD"}),(0,a.jsx)("h3",{className:"font-bold text-gray-800 text-lg",children:"Quick Notes"})]}),(0,a.jsx)(c.A,{section:"dashboard",entityId:"main",entityName:"Dashboard"})]})}),(0,a.jsx)("div",{className:"mb-8",children:(0,a.jsx)("div",{className:"relative overflow-hidden bg-gradient-to-r from-blue-600/60 via-purple-600/60 to-blue-700/60 backdrop-blur-sm rounded-2xl shadow-2xl border border-white/20",children:(0,a.jsx)("div",{className:"relative p-8",children:(0,a.jsx)("div",{className:"flex items-center justify-between",children:(0,a.jsxs)("div",{className:"flex items-center space-x-6",children:[(0,a.jsx)("div",{className:"w-16 h-16 bg-white/20 backdrop-blur-sm rounded-xl flex items-center justify-center border border-white/30",children:(0,a.jsx)(o.A,{size:"medium",variant:"light",useCustomLogo:!0,showText:!1})}),(0,a.jsxs)("div",{className:"text-white",children:[(0,a.jsx)("h1",{className:"text-4xl font-bold mb-2 drop-shadow-lg",children:"FleetFlow Dashboard"}),(0,a.jsx)("p",{className:"text-blue-100 text-lg drop-shadow-md",children:"Fleet management made simple"}),(0,a.jsxs)("div",{className:"flex items-center space-x-4 mt-2 text-sm text-blue-200",children:[(0,a.jsxs)("span",{children:["\uD83D\uDD52 ",e.toLocaleTimeString()]}),(0,a.jsxs)("span",{children:["\uD83D\uDCC5 ",e.toLocaleDateString()]})]})]})]})})})})}),(0,a.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-4 gap-8",children:[(0,a.jsxs)("div",{className:"lg:col-span-3 space-y-8",children:[(0,a.jsx)("div",{className:"bg-white/90 backdrop-blur-md rounded-2xl shadow-lg border border-white/50",children:(0,a.jsx)(r,{metrics:{totalVehicles:45,activeVehicles:38,maintenanceVehicles:7,totalDrivers:52,activeRoutes:23,fuelEfficiency:6.8,monthlyMileage:125480,maintenanceCosts:28750}})}),(0,a.jsx)("div",{className:"bg-white/90 backdrop-blur-md rounded-2xl p-6 shadow-lg border border-white/50",children:(0,a.jsx)(i,{})}),(0,a.jsx)("div",{className:"bg-white/90 backdrop-blur-md rounded-2xl p-6 shadow-lg border border-white/50",children:(0,a.jsx)(n.A,{})})]}),(0,a.jsx)("div",{className:"space-y-8",children:(0,a.jsx)("div",{className:"bg-white/90 backdrop-blur-md rounded-2xl p-6 shadow-lg border border-white/50",children:(0,a.jsx)(d.A,{})})})]})]})]})}},96313:(e,t,s)=>{"use strict";s.d(t,{A:()=>l});var a=s(95155);let l=()=>(0,a.jsxs)("div",{className:"card",children:[(0,a.jsx)("h3",{className:"mb-4",style:{fontSize:"1.25rem",fontWeight:"600",color:"#1e293b"},children:"Live Fleet Tracking"}),(0,a.jsx)("div",{className:"bg-gray-100 flex items-center justify-center",style:{height:"240px",borderRadius:"8px",border:"2px dashed #d1d5db"},children:(0,a.jsxs)("div",{className:"text-center",children:[(0,a.jsx)("div",{style:{fontSize:"3rem",marginBottom:"1rem"},children:"\uD83D\uDDFA️"}),(0,a.jsx)("p",{className:"text-gray-600 mb-2",children:"Interactive Fleet Map"}),(0,a.jsx)("p",{className:"text-gray-500",style:{fontSize:"0.875rem"},children:"Real-time vehicle locations and routes"}),(0,a.jsx)("button",{className:"btn btn-primary mt-4",children:"View Full Map"})]})}),(0,a.jsxs)("div",{className:"flex justify-between mt-4",children:[(0,a.jsxs)("div",{className:"text-center",children:[(0,a.jsx)("div",{className:"text-gray-900",style:{fontSize:"1.5rem",fontWeight:"600"},children:"67"}),(0,a.jsx)("div",{className:"text-gray-600",style:{fontSize:"0.875rem"},children:"Active Routes"})]}),(0,a.jsxs)("div",{className:"text-center",children:[(0,a.jsx)("div",{className:"text-gray-900",style:{fontSize:"1.5rem",fontWeight:"600"},children:"134"}),(0,a.jsx)("div",{className:"text-gray-600",style:{fontSize:"0.875rem"},children:"Vehicles Online"})]}),(0,a.jsxs)("div",{className:"text-center",children:[(0,a.jsx)("div",{className:"text-gray-900",style:{fontSize:"1.5rem",fontWeight:"600"},children:"98%"}),(0,a.jsx)("div",{className:"text-gray-600",style:{fontSize:"0.875rem"},children:"GPS Coverage"})]})]})]})}},e=>{var t=t=>e(e.s=t);e.O(0,[766,441,684,358],()=>t(35669)),_N_E=e.O()}]);