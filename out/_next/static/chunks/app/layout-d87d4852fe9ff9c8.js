(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[177],{11550:(e,s,i)=>{"use strict";i.d(s,{A:()=>a,AuthProvider:()=>l,O:()=>d});var t=i(95155),r=i(12115);let n=(0,r.createContext)(void 0),a=()=>{let e=(0,r.useContext)(n);if(void 0===e)throw Error("useAuth must be used within an AuthProvider");return e},l=e=>{let{children:s}=e,[i,a]=(0,r.useState)({id:"U001",name:"Fleet Manager",email:"manager@fleetflow.com",role:"Admin",permissions:["all"]});return(0,t.jsx)(n.Provider,{value:{user:i,hasPermission:e=>!!i&&(!!i.permissions.includes("all")||i.permissions.includes(e)),login:e=>{a(e),localStorage.setItem("fleetflow-user",JSON.stringify(e))},logout:()=>{a(null),localStorage.removeItem("fleetflow-user")}},children:s})},d=e=>{let{children:s,requiredPermission:i,fallback:r}=e,{hasPermission:n}=a();return i&&!n(i)?r||(0,t.jsxs)("div",{className:"bg-red-50 border border-red-200 rounded-lg p-6 text-center",children:[(0,t.jsx)("svg",{className:"w-12 h-12 text-red-400 mx-auto mb-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-2.5L13.732 4c-.77-.833-1.964-.833-2.732 0L4.082 15.5c-.77.833.192 2.5 1.732 2.5z"})}),(0,t.jsx)("h3",{className:"text-lg font-medium text-red-800 mb-2",children:"Access Denied"}),(0,t.jsx)("p",{className:"text-red-600",children:"You don't have permission to access this feature."}),(0,t.jsxs)("p",{className:"text-sm text-red-500 mt-2",children:["Required permission: ",(0,t.jsx)("code",{className:"bg-red-100 px-2 py-1 rounded",children:i})]})]}):(0,t.jsx)(t.Fragment,{children:s})}},14644:(e,s,i)=>{"use strict";i.d(s,{LoadProvider:()=>a,Y:()=>l});var t=i(95155),r=i(12115);let n=(0,r.createContext)(void 0);function a(e){let{children:s}=e,[i,a]=(0,r.useState)(null),[l,d]=(0,r.useState)([]);return(0,t.jsx)(n.Provider,{value:{selectedLoad:i,setSelectedLoad:a,loadHistory:l,addToHistory:e=>{d(s=>s.find(s=>s.id===e.id)?s.map(s=>s.id===e.id?e:s):[e,...s.slice(0,49)])},updateLoad:(e,s)=>{d(i=>i.map(i=>i.id===e?{...i,...s}:i)),(null==i?void 0:i.id)===e&&a(e=>e?{...e,...s}:null)}},children:s})}function l(){let e=(0,r.useContext)(n);if(void 0===e)throw Error("useLoad must be used within a LoadProvider");return e}},19324:()=>{},40151:(e,s,i)=>{Promise.resolve().then(i.bind(i,11550)),Promise.resolve().then(i.bind(i,82885)),Promise.resolve().then(i.bind(i,14644)),Promise.resolve().then(i.t.bind(i,19324,23))},82885:(e,s,i)=>{"use strict";i.d(s,{default:()=>d});var t=i(95155),r=i(6874),n=i.n(r),a=i(12115),l=i(89303);let d=()=>{let[e,s]=(0,a.useState)("dashboard"),[i,r]=(0,a.useState)(!1),[d,c]=(0,a.useState)(!1),{role:o,permissions:m}=(0,l.HW)(),{hasManagementAccess:u}=m;return(0,t.jsx)("nav",{className:"nav",children:(0,t.jsx)("div",{className:"container",children:(0,t.jsxs)("div",{className:"flex justify-between items-center",children:[(0,t.jsx)("div",{className:"flex items-center",children:(0,t.jsx)("h1",{className:"gradient-bg px-4 py-2",style:{borderRadius:"8px",fontSize:"1.5rem",fontWeight:"bold"},children:"\uD83D\uDE9A FleetFlow"})}),(0,t.jsxs)("div",{className:"flex gap-4 items-center",children:[[{id:"dashboard",label:"Dashboard",href:"/"},{id:"dispatch",label:"Dispatch Central",href:"/dispatch"},{id:"broker",label:"Broker Box",href:"/broker"},{id:"quoting",label:"Freight Quoting",href:"/quoting"},{id:"reports",label:"Reports",href:"/reports"},{id:"resources",label:"Resources",href:"/resources"},{id:"training",label:"Training",href:"/training"}].map(i=>(0,t.jsx)(n(),{href:i.href,className:"nav-item ".concat(e===i.id?"active":""),onClick:()=>s(i.id),children:i.label},i.id)),(0,t.jsxs)("div",{className:"relative",children:[(0,t.jsxs)("button",{className:"nav-item flex items-center gap-1 ".concat(["vehicles","drivers","routes","maintenance"].includes(e)?"active":""),onClick:()=>r(!i),onBlur:()=>setTimeout(()=>r(!1),150),children:["Fleet Management",(0,t.jsx)("svg",{className:"w-4 h-4 transition-transform ".concat(i?"rotate-180":""),fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})]}),i&&(0,t.jsx)("div",{className:"absolute top-full left-0 mt-1 bg-white border border-gray-200 rounded-lg shadow-lg z-50 min-w-48",children:[{id:"vehicles",label:"Vehicles",href:"/vehicles",icon:"\uD83D\uDE9B"},{id:"drivers",label:"Drivers",href:"/drivers",icon:"\uD83D\uDC65"},{id:"routes",label:"Routes",href:"/routes",icon:"\uD83D\uDDFA️"},{id:"maintenance",label:"Maintenance",href:"/maintenance",icon:"\uD83D\uDD27"}].map(e=>(0,t.jsxs)(n(),{href:e.href,className:"flex items-center gap-3 px-4 py-3 text-gray-700 hover:bg-gray-50 first:rounded-t-lg last:rounded-b-lg transition-colors",onClick:()=>{s(e.id),r(!1)},children:[(0,t.jsx)("span",{className:"text-lg",children:e.icon}),e.label]},e.id))})]}),u&&(0,t.jsxs)("div",{className:"relative",children:[(0,t.jsxs)("button",{className:"nav-item flex items-center gap-1 bg-gradient-to-r from-red-50 to-orange-50 border border-red-200 ".concat(["analytics","financials","settings"].includes(e)?"active":""),onClick:()=>c(!d),onBlur:()=>setTimeout(()=>c(!1),150),title:"Management Dashboard - Restricted Access",children:["\uD83D\uDD12 Management",(0,t.jsx)("svg",{className:"w-4 h-4 transition-transform ".concat(d?"rotate-180":""),fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})]}),d&&(0,t.jsxs)("div",{className:"absolute top-full left-0 mt-1 bg-white border border-red-200 rounded-lg shadow-lg z-50 min-w-56",children:[(0,t.jsx)("div",{className:"px-4 py-2 bg-red-50 border-b border-red-200 rounded-t-lg",children:(0,t.jsx)("span",{className:"text-xs text-red-600 font-medium",children:"\uD83D\uDD12 RESTRICTED ACCESS"})}),[{id:"analytics",label:"Fleet Analytics",href:"/analytics",icon:"\uD83D\uDCCA"},{id:"financials",label:"Financial Management",href:"/financials",icon:"\uD83D\uDCB0"},{id:"settings",label:"System Settings",href:"/settings",icon:"⚙️"}].map(e=>(0,t.jsxs)(n(),{href:e.href,className:"flex items-center gap-3 px-4 py-3 text-gray-700 hover:bg-red-50 last:rounded-b-lg transition-colors",onClick:()=>{s(e.id),c(!1)},children:[(0,t.jsx)("span",{className:"text-lg",children:e.icon}),e.label]},e.id))]})]})]}),(0,t.jsxs)("div",{className:"flex items-center gap-4",children:[(0,t.jsxs)("span",{className:"text-gray-600",children:["Welcome, ",o.charAt(0).toUpperCase()+o.slice(1)]}),!u&&(0,t.jsx)(n(),{href:"/settings",className:"btn btn-secondary",onClick:()=>s("settings"),children:"Settings"})]})]})})})}},89303:(e,s,i)=>{"use strict";i.d(s,{HW:()=>t,Yj:()=>r,mI:()=>n});let t=()=>{let e="admin",s={hasManagementAccess:["manager","admin"].includes(e),hasAnalyticsAccess:["manager","admin"].includes(e),hasFinancialsAccess:["manager","admin"].includes(e),hasAdminAccess:!0};return{role:e,permissions:s}},r=e=>{let{permissions:s}=t();return s[e]},n={analytics:{title:"Fleet Analytics Access Restricted",message:"This section contains sensitive performance metrics and business intelligence data.",requirement:"Manager or Admin access required"},financials:{title:"Financial Management Access Restricted",message:"This section contains sensitive financial information including invoices, expenses, and revenue data.",requirement:"Manager or Admin access required"},admin:{title:"Administrative Access Restricted",message:"This section contains system-wide settings and user management capabilities.",requirement:"Admin access required"}}}},e=>{var s=s=>e(e.s=s);e.O(0,[533,874,441,684,358],()=>s(40151)),_N_E=e.O()}]);